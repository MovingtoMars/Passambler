--TEST--
Tests classes.

--INPUT--
class Greeter(pub name, manner="Hello")
{
    pub func greet()
    {
        writeln(self.manner + " " + self.name);
    }

    pub func to_str()
    {
        return "String repr: " + self.name;
    }
}

g = Greeter("Raoul");
g.greet();
writeln(g.name);
writeln(g);

a = Greeter(manner="Goodmorning", name="Passambler");
a.greet();

g.greet();

class Sayer(msg="Hello world")
{
    pub func say(n)
    {
        writeln(n + " " + self.msg);
    }

    pub func sayMore()
    {
        for (1..3) {
            writeln(self.msg);
        }
    }

    func private()
    {
        writeln("private");
    }
}

s = Sayer("test");
s.say("Raoul");

x = Sayer();
x.say("Raoul");

y = Sayer(msg="test 2");
y.say("Raoul");

class Sayer2() : Sayer("How are you?")
{
    pub func say2(x)
    {
        self.say(x);
        self.private();
    }
}

z = Sayer2();
z.say2("Raoul");

writeln(s);
writeln(z);

--OUTPUT--
Hello Raoul
Raoul
String repr: Raoul
Goodmorning Passambler
Hello Raoul
Raoul test
Raoul Hello world
Raoul test 2
Raoul How are you?
private
Sayer
Sayer2